##### js代码题：

一定要看：[【建议星星】要就来45道Promise面试题一次爽到底(1.1w字用心整理) - 掘金 (juejin.cn)](https://juejin.cn/post/6844904077537574919#heading-1)

```js
// 经典代码题：
console.log('script start');

setTimeout(() => {
    console.log('time1');
}, 1 * 2000);

Promise.resolve()
.then(function() {
    console.log('promise1');
}).then(function() {
    console.log('promise2');
});


async function foo() {
    await bar()
    console.log('async1 end')
}
foo()

async function errorFunc () {
    try {
        await Promise.reject('error!!!')
    } catch(e) {
        console.log(e)
    }
    console.log('async1');
    return Promise.resolve('async1 success')
}
errorFunc().then(res => console.log(res))

function bar() {
    console.log('async2 end') 
}

console.log('script end');
```

```js
setTimeout(function() {
  console.log('setTimeout1');

  new Promise((resolve) => {
    resolve()
  }).then(() => {
    new Promise((resolve) => {
      resolve()
    }).then(() => {
      console.log('then4');
    })
    console.log('then2');
  })
})

new Promise((resolve) => {
  console.log('promise1');
  resolve()
}).then(() => {
  console.log('then1');
})

setTimeout(() => {
  console.log('setTimeout2');
}) 

console.log(2);

queueMicrotask(() => {
  console.log('queueMicrotask');
})

new Promise((resolve) => {
  resolve()
}).then(() => {
  console.log('then3');
})

// promise1 2 then1 queueMicrotask then3 setTimeout1 then2 then4 setTimeout2
```
